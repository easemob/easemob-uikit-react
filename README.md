# Easemob UIKit for React

![Static Badge](https://img.shields.io/badge/platform-React-green) ![Static Badge](https://img.shields.io/badge/language-typescript-green) ![GitHub commit activity](https://img.shields.io/github/commit-activity/y/easemob/Easemob-UIKit-web) ![GitHub last commit](https://img.shields.io/github/last-commit/easemob/Easemob-UIKit-web) ![GitHub Issues or Pull Requests](https://img.shields.io/github/issues/easemob/Easemob-UIKit-web) ![GitHub License](https://img.shields.io/github/license/easemob/Easemob-UIKit-web) ![GitHub Tag](https://img.shields.io/github/v/tag/easemob/Easemob-UIKit-web) ![NPM Version](https://img.shields.io/npm/v/easemob-chat-uikit)

æœ¬æ–‡å°†ä»‹ç»ç¯ä¿¡æ–°å•ç¾¤èŠ UIKitã€‚æ–°å•ç¾¤èŠ UIKit è‡´åŠ›äºä¸ºå¼€å‘è€…æä¾›é«˜æ•ˆé›†æˆã€å³æ’å³ç”¨ã€é«˜è‡ªç”±åº¦å®šåˆ¶åŒ–çš„ UI ç»„ä»¶åº“ï¼ŒåŠ©åŠ›æ„å»ºåŠŸèƒ½å…¨é¢ã€è®¾è®¡ç¾è§‚çš„ IM åº”ç”¨ï¼Œè½»æ¾æ»¡è¶³å³æ—¶é€šä¿¡ç»å¤§å¤šæ•°åœºæ™¯ã€‚è¯·ä¸‹è½½ç¤ºä¾‹è¿›è¡Œä½“éªŒã€‚

## ğŸ“Œ ç›®å½•

- [ç®€ä»‹](#ğŸ“–-ç®€ä»‹)
- [æŠ€æœ¯åŸç†](#âš™ï¸-æŠ€æœ¯åŸç†)
- [åŠŸèƒ½](#âœ¨-åŠŸèƒ½)
- [ç»„ä»¶](#ğŸ§©-ç»„ä»¶)
- [è¿è¡Œç¤ºä¾‹ App](#ğŸ–¥-è¿è¡Œç¤ºä¾‹-app)
- [å¿«é€Ÿå¼€å§‹](#ğŸ”¨-å¿«é€Ÿå¼€å§‹)
- [è¿›é˜¶æŒ‡å—](#ğŸŒˆ-è¿›é˜¶æŒ‡å—)
- [é¡¹ç›®ç»“æ„](#ğŸ -é¡¹ç›®ç»“æ„)
- [å‚è€ƒæ–‡æ¡£](#ğŸ”—-å‚è€ƒæ–‡æ¡£)
- [ç›¸å…³èµ„æº](#ğŸ“-ç›¸å…³èµ„æº)

## ğŸ“– ç®€ä»‹

Easemob UIKit for WEB æ˜¯é›†å¼€å‘å·¥å…·åŒ…ä¸ç”¨æˆ·ç•Œé¢äºä¸€ä½“çš„å¼€å‘åˆ©å™¨ï¼Œå…¨é¢çš„å³æ’å³ç”¨çš„ UI ç»„ä»¶å°†åŠ©åŠ›æ‚¨è½»æ¾å¿«é€Ÿåœ°å°†æ ‡å‡†èŠå¤©åŠŸèƒ½é›†æˆåˆ°æ–°æ—§å®¢æˆ·ç«¯åº”ç”¨ä¸­ã€‚ä»ä¼šè¯åˆ—è¡¨åˆ°æ¶ˆæ¯ä½“ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œä»æ•´ä½“ä¸»é¢˜åˆ°é¢œè‰²å­—ä½“ç­‰ç»†èŠ‚æ ·å¼ï¼Œç»„ä»¶å‡å¯å®Œå…¨å®šåˆ¶ï¼Œæ‰“é€ å¥‘åˆæ‚¨å“ç‰Œæ ‡è¯†çš„ç‹¬ç‰¹åº”ç”¨å†…èŠå¤©ä½“éªŒã€‚

ç‰¹åˆ«æ³¨æ„ï¼šUIKit æ”¯æŒå•èŠã€ç¾¤èŠã€å®¢æœã€é—®è¯Šã€AI é™ªèŠç­‰ç»å¤§å¤šæ•°èŠå¤©åœºæ™¯ã€‚

## âš™ï¸ æŠ€æœ¯åŸç†

UIKIt ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šUI ç»„ä»¶ï¼Œç®¡ç†æ•°æ®çš„ mobx store, chat SDKã€‚UI ç»„ä»¶åŒ…å«å®¹å™¨ç»„ä»¶ container å¤åˆç»„ä»¶ module, ä»¥åŠçº¯ UI ç»„ä»¶ components, è¿™äº›ä¸åŒçº§åˆ«çš„ç»„ä»¶å…¨éƒ¨å¯¹å¤–æš´éœ²ï¼Œç”¨æˆ·å¯ä»¥å¼•ç”¨ä»»æ„ç»„ä»¶æ„å»ºè‡ªå·±çš„åº”ç”¨ã€‚UIkit ä½¿ç”¨ mobx ç®¡ç†å…¨å±€æ•°æ®ï¼Œç”¨æˆ·å¯ä»¥å¼•ç”¨ rootStore æ¥è·å¾—å…¨éƒ¨æ•°æ®å’Œ action æ–¹æ³•ï¼Œå¯ä»¥ç”¨ action æ–¹æ³•æ¥æ“ä½œæ•°æ®ã€‚ UIKit å†…éƒ¨é›†æˆäº† chat SDKï¼Œé€šè¿‡ chat SDK å’ŒæœåŠ¡å™¨äº¤äº’ã€‚<div align=center> <img src="https://github.com/easemob/Easemob-UIKit-web/blob/main/docs/image/uikit.png" width = "400" height = "450" /></div>

## âœ¨ åŠŸèƒ½

`easemob-chat-uikit` åº“æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

- èŠå¤©ç•Œé¢ï¼Œæ”¯æŒå„ç§ç±»å‹æ¶ˆæ¯ï¼Œå’Œå¯¹æ¶ˆæ¯çš„æ“ä½œï¼ŒéŸ³è§†é¢‘é€šè¯ï¼›
- ä¼šè¯åˆ—è¡¨ï¼Œæ”¯æŒæœç´¢ã€åˆ é™¤ã€æŒ‡å®šã€å…æ‰“æ‰°ï¼›
- é€šè®¯å½•ï¼ŒæŒ‰é¦–å­—æ¯æ’åºï¼›
- ç¾¤ç»„ç®¡ç†ï¼Œæ”¯æŒä¿®æ”¹ç¾¤ä¿¡æ¯ï¼Œæ·»åŠ åˆ é™¤ç¾¤æˆå‘˜ï¼›
- è‡ªåŠ¨å¸ƒå±€ï¼Œé€‚é…å®¹å™¨çš„å®½é«˜ï¼›
- å®šåˆ¶åŒ– UIã€‚

- æ”¯æŒçš„æ¶ˆæ¯ç±»å‹ï¼š æ–‡æœ¬ã€è¡¨æƒ…ã€è¯­éŸ³ã€å›¾ç‰‡ã€è§†é¢‘ã€æ–‡ä»¶ã€åç‰‡ã€åˆå¹¶æ¶ˆæ¯ã€‚
- æ¶ˆæ¯æ”¯æŒçš„æ“ä½œï¼šå›å¤ã€åˆ é™¤ã€æ’¤å›ã€ç¿»è¯‘ã€ç¼–è¾‘ã€å¤šé€‰ã€è½¬å‘ã€ä¸¾æŠ¥ã€å›ºå®šã€‚

## ğŸ§© ç»„ä»¶

`easemob-chat-uikit` ç›®å‰æä¾›å®¹å™¨ç»„ä»¶ã€æ¨¡å—ç»„ä»¶ã€çº¯ UI ç»„ä»¶ä¸‰ä¸ªçº§åˆ«çš„ç»„ä»¶ï¼Œç»„ä»¶è¯¦æƒ…å¯ä»¥æŸ¥çœ‹[æ•…äº‹ä¹¦](https://storybook.easemob.com/)

## ğŸ–¥ è¿è¡Œç¤ºä¾‹ App

1. å®‰è£…ä¾èµ–

```bash
npm install
```

2. è¿è¡Œé¡¹ç›®

```bash
npm run dev
```

3. é€‰æ‹© demo ç›®å½•ä¸‹çš„ç¤ºä¾‹ demo æ‰“å¼€ï¼Œå¦‚ï¼šhttp://localhost:5173/demo/module/chat/index.html

## ğŸ”¨ å¿«é€Ÿå¼€å§‹

### å‰ææ¡ä»¶

å¼€å¯ Easemob Chat æœåŠ¡å‰ï¼Œè¯·ç¡®ä¿å·²ç»å…·å¤‡ä»¥ä¸‹è¦ç´ ï¼š

- React 16.8.0 æˆ–ä»¥ä¸Šç‰ˆæœ¬ï¼›
- React DOM 16.8.0 æˆ–ä»¥ä¸Šç‰ˆæœ¬ï¼›
- Easemob Chat é¡¹ç›®å’Œ App Keyã€‚

### æ”¯æŒçš„æµè§ˆå™¨

| æµè§ˆå™¨    | æ”¯æŒçš„ç‰ˆæœ¬ |
| --------- | ---------- |
| IE æµè§ˆå™¨ | 11 æˆ–ä»¥ä¸Š  |
| Edge      | 43 æˆ–ä»¥ä¸Š  |
| Firefox   | 10 æˆ–ä»¥ä¸Š  |
| Chrome    | 54 æˆ–ä»¥ä¸Š  |
| Safari    | 11 æˆ–ä»¥ä¸Š  |

### UIKit ä¸­ç”¨åˆ°çš„æœåŠ¡

- ä¼šè¯åˆ—è¡¨
- æ¼«æ¸¸æ¶ˆæ¯
- å•å‘åˆ é™¤æ¼«æ¸¸æ¶ˆæ¯
- ç”¨æˆ·å±æ€§
- ç¿»è¯‘
- ä¸¾æŠ¥
- é»‘åå•
- ç”¨æˆ·åœ¨çº¿çŠ¶æ€
- æ¶ˆæ¯ç½®é¡¶
- ä¼šè¯ç½®é¡¶
- æ¶ˆæ¯æ’¤å›
- æ¶ˆæ¯è¡¨æƒ…å›å¤
- å­åŒº

å¦‚æœç”¨åˆ°è¿™äº›åŠŸèƒ½ï¼Œè¯·ç¡®ä¿ç›¸å…³æœåŠ¡æ˜¯å¼€é€šçš„ã€‚

### ä½¿ç”¨æ­¥éª¤

#### 1.åˆ›å»º chat-uikit é¡¹ç›®

```bash
# å®‰è£… CLI å·¥å…·ã€‚
npm install create-react-app
# æ„å»ºä¸€ä¸ª my-app çš„é¡¹ç›®ã€‚
npx create-react-app my-app
cd my-app
```

```
é¡¹ç›®ç›®å½•ï¼š
â”œâ”€â”€ package.json
â”œâ”€â”€ public                  # Webpack çš„é™æ€ç›®å½•ã€‚
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ index.html          # é»˜è®¤çš„å•é¡µé¢åº”ç”¨ã€‚
â”‚   â””â”€â”€ manifest.json
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ App.css             # App æ ¹ç»„ä»¶çš„ CSSã€‚
â”‚   â”œâ”€â”€ App.js              # App ç»„ä»¶ä»£ç ã€‚
â”‚   â”œâ”€â”€ App.test.js
â”‚   â”œâ”€â”€ index.css           # å¯åŠ¨æ–‡ä»¶æ ·å¼ã€‚
â”‚   â”œâ”€â”€ index.js            # å¯åŠ¨æ–‡ä»¶ã€‚
â”‚   â”œâ”€â”€ logo.svg
â”‚   â””â”€â”€ serviceWorker.js
â””â”€â”€ yarn.lock
```

#### 2.é›†æˆ easemob-chat-uikit

##### å®‰è£… easemob-chat-uikit

- é€šè¿‡ npm å®‰è£…ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
npm install easemob-chat-uikit --save
```

- é€šè¿‡ yarn å®‰è£…ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
yarn add easemob-chat-uikit
```

##### ä½¿ç”¨ easemob-chat-uikit ç»„ä»¶æ„å»ºåº”ç”¨

å°† easemob-chat-uikit åº“å¯¼å…¥ä½ çš„ä»£ç ä¸­ï¼š

```javascript
// App.js
import React, { Component, useEffect } from 'react';
import { Provider, Chat, ConversationList, useClient, rootStore } from 'easemob-chat-uikit';
import 'easemob-chat-uikit/style.css';

const ChatApp = () => {
  const client = useClient();
  useEffect(() => {
    client &&
      client
        .open({
          user: '',
          token: '',
        })
        .then(res => {
          console.log('get token success', res);
          // create a conversation
          rootStore.conversationStore.addConversation({
            chatType: '', // 'singleChat' || 'groupChat'
            conversationId: '', // target user id or group id
            name: '', // target user nickname or group name
          });
        });
  }, [client]);

  return (
    <div>
      <div>
        <ConversationList />
      </div>
      <div>
        <Chat />
      </div>
    </div>
  );
};

class App extends Component {
  render() {
    return (
      <Provider
        initConfig={{
          appKey: 'your app key',
        }}
      >
        <ChatApp />
      </Provider>
    );
  }
}

export default App;
```

##### è¿è¡Œé¡¹ç›®å¹¶å‘é€ä½ çš„ç¬¬ä¸€æ¡æ¶ˆæ¯

```bash
npm run start
```

åœ¨æµè§ˆå™¨å¯çœ‹åˆ°ä½ çš„åº”ç”¨ã€‚

<div align=center style="background: #ddd; padding-top: 8px"> <img src="https://github.com/easemob/Easemob-UIKit-web/blob/main/docs/image/chat.png" width = "480" height = "350" /></div>

åœ¨é»˜è®¤ App Key æƒ…å†µä¸‹ï¼Œä¸ºæ–¹ä¾¿å¿«é€Ÿä½“éªŒï¼Œæˆ‘ä»¬é»˜è®¤æ”¯æŒå‡ ç§ç±»å‹çš„æ¶ˆæ¯ä¸‹å‘ã€‚ç‚¹å‡»é€‰ä¸­ä¸€ä¸ªæˆå‘˜åï¼Œè¾“å…¥ä½ çš„ç¬¬ä¸€æ¡æ¶ˆæ¯å¹¶å‘é€ã€‚

**æ³¨æ„** ä½¿ç”¨è‡ªå®šä¹‰ App Key æ—¶ï¼Œç”±äºæ²¡æœ‰è”ç³»äººï¼Œéœ€å…ˆæ·»åŠ å¥½å‹

## ğŸŒˆ è¿›é˜¶æŒ‡å—

### ä¿®æ”¹ç»„ä»¶æ ·å¼

å¯ä»¥é€šè¿‡ç»„ä»¶ props ä¼ é€’ className, style, prefix ä¿®æ”¹æ ·å¼

```javascript
import { Chat, Button } from 'easemob-chat-uikit';

const ChatApp = () => {
  return (
    <div>
      <Chat className="customClass" prefix="custom" />
      <Button style={{ width: '100px' }}>Button</Button>
    </div>
  );
};
```

### ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶

å¯ä»¥é€šè¿‡å®¹å™¨ç»„ä»¶çš„ renderX æ–¹æ³•æ¥æ¸²æŸ“è‡ªå®šä¹‰ç»„ä»¶

```javascript
import {Chat, Header} from 'easemob-chat-uikit'

const ChatApp = () => {
  const CustomHeader = <Header back content="Custom Header">
  return(
    <div>
      <Chat renderHeader={(cvs) => CustomHeader}>
    </div>
  )
}

```

### ä¿®æ”¹ä¸»é¢˜

1. UIKit æä¾›äº†ä¸€äº›å…¨å±€ä¸»é¢˜é…ç½®é¡¹ï¼š

```typescript
theme: {
    primaryColor?: string | number; // 16è¿›åˆ¶é¢œè‰²å€¼ï¼Œæˆ–è€…Hueå€¼
    mode?: 'light' | 'dark'; // æ˜æš—ä¸»é¢˜
    avatarShape?: 'circle' | 'square'; // å¤´åƒåœ†å½¢è¿˜æ˜¯æ–¹å½¢
    bubbleShape?: 'ground' | 'square'; // æ¶ˆæ¯æ°”æ³¡å¤§åœ†è§’è¿˜æ˜¯å°åœ†è§’
    componentsShape?: 'ground' | 'square'; // æœç´¢ï¼Œè¾“å…¥æ¡†ï¼ŒæŒ‰é’®ç»„ä»¶ å¤§åœ†è§’è¿˜æ˜¯å°åœ†è§’
};
```

ä½¿ç”¨ç¤ºä¾‹

```jsx
<UIKitProvider
  theme={{
    primaryColor: 203,
    mode: 'light',
  }}
>
  {/** ... */}
</UIKitProvider>
```

2. UIKit æ ·å¼ä½¿ç”¨ scss æ¡†æ¶å¼€å‘ï¼Œå®šä¹‰äº†ä¸€ç³»åˆ—å…¨å±€æ ·å¼å˜é‡ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºå…¨å±€æ ·å¼ï¼ˆä¸»è‰²ã€èƒŒæ™¯è‰²ã€åœ†è§’ã€è¾¹æ¡†ã€å­—ä½“å¤§å°ï¼‰ã€‚

```scss
// need to use hsla
$blue-base: hsla(203, 100%, 60%, 1);
$green-base: hsla(155, 100%, 60%, 1);
$red-base: hsla(350, 100%, 60%, 1);
$gray-base: hsla(203, 8%, 60%, 1);
$special-base: hsla(220, 36%, 60%, 1);

$font-color: $gray-3;
$title-color: $gray-1;
$component-background: #fff;

$height-base: 36px;
$height-lg: 48px;
$height-sm: 28px;

// vertical margins
$margin-lg: 24px;
$margin-md: 16px;
$margin-sm: 12px;
$margin-xs: 8px;
$margin-xss: 4px;

// vertical paddings
$padding-lg: 24px;
$padding-md: 20px;
$padding-sm: 16px;
$padding-s: 12px;
$padding-xs: 8px;
$padding-xss: 4px;
// font
$font-size-base: 14px;
$font-size-lg: $font-size-base + 2px;
$font-size-sm: 12px;
$text-color: fade($black, 85%);
```

ä½¿ç”¨ webpack è¿›è¡Œå˜é‡è¦†ç›–ï¼š

```javascript
module.exports = {
  module: {
    rules: [
      {
        test: /\.s[ac]ss$/i,
        use: [
          'style-loader',
          'css-loader',
          {
            loader: 'sass-loader',
            options: {
              additionalData: `@import "@/styles/index.scss";`,
            },
          },
        ],
      },
    ],
  },
};
```

å¦‚æœè¿™äº›ä¸èƒ½æ»¡è¶³å®šåˆ¶åŒ–è¦æ±‚ï¼Œè¿˜å¯ä»¥æ£€æŸ¥å…ƒç´ æ¥è¦†ç›– UIKit çš„æ ·å¼ã€‚

## ğŸ  é¡¹ç›®ç»“æ„

```
easemob-uikit-web
â”œâ”€â”€ build // æ‰“åŒ…åçš„äº§ç‰©
â”œâ”€â”€ common // å…¬å…±æ ·å¼
â”œâ”€â”€ component // çº¯UIç»„ä»¶
â”œâ”€â”€ demo // ç¤ºä¾‹demo
â”œâ”€â”€ docs // æ–‡æ¡£
â”œâ”€â”€ eventHandler // æ—¶é—´ç›‘å¬å™¨
â”œâ”€â”€ local // å›½é™…åŒ–æ–‡æ¡ˆ
â””â”€â”€ module // å®¹å™¨å’Œæ¨¡å—ç»„ä»¶
   â”œâ”€â”€ baseMessage // æ¶ˆæ¯åŸºç¡€ç»„ä»¶ï¼Œå…¶ä»–ç±»å‹çš„æ¶ˆæ¯ç»„ä»¶éƒ½æ˜¯åœ¨è¿™ä¸ªç»„ä»¶ä¸Šå®½å±•
   â”œâ”€â”€ chat // Chat ç»„ä»¶ï¼ŒåŒ…å«æ•´ä¸ªèŠå¤©é¡µé¢
   â”œâ”€â”€ contactList // è”ç³»äººç»„ä»¶
   â”œâ”€â”€ conversation // ä¼šè¯åˆ—è¡¨ç»„ä»¶
   â”œâ”€â”€ store // å…¨å±€çŠ¶æ€
   â””â”€â”€ utils // å·¥å…·æ–¹æ³•
```

## ğŸ‘¥ ç¤¾åŒºè´¡çŒ®è€…

å¦‚æœä½ è®¤ä¸ºå¯å°†ä¸€äº›åŠŸèƒ½æ·»åŠ åˆ° UIKit ä¸­è®©æ›´å¤šç”¨æˆ·å—ç›Šï¼Œè¯·éšæ—¶ Fork å­˜å‚¨åº“å¹¶æ·»åŠ æ‹‰å–è¯·æ±‚ã€‚å¦‚æœä½ åœ¨ä½¿ç”¨ä¸Šæœ‰ä»»ä½•é—®é¢˜ï¼Œä¹Ÿè¯·åœ¨å­˜å‚¨åº“ä¸Šæäº¤ã€‚æ„Ÿè°¢ä½ çš„è´¡çŒ®ï¼

## ğŸ”— å‚è€ƒæ–‡æ¡£

[å…¶ä»–ç›¸å…³æ–‡æ¡£](https://github.com/easemob/Easemob-UIKit-web/tree/main/docs/zh)

## ğŸ“ ç›¸å…³èµ„æº

[é›†æˆæ–‡æ¡£](https://docs-im-beta.easemob.com/document/web/quickstart.html);

[chat demo çº¿ä¸Šåœ°å€](https://webim-h5.easemob.com/)

[chat demo æºç åœ°å€](https://github.com/easemob/webim/tree/dev_4.0?tab=readme-ov-file)

[chatroom demo çº¿ä¸Šåœ°å€](https://webim-live.easemob.com/)

[chatroom demo æºç åœ°å€](https://github.com/easemob/ChatroomDemo/tree/dev/WEB/ChatroomDemo)ï¼›

## ğŸ“„ ä»£ç è®¸å¯

ç¤ºä¾‹é¡¹ç›®éµå®ˆ MIT è®¸å¯è¯ã€‚
